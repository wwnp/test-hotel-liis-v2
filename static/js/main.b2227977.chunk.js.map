{"version":3,"sources":["components/Heart.jsx","components/Star.jsx","config.js","auxillary.js","redux/contants.js","components/FavItem.jsx","components/Fav.jsx","components/ErrorHelper.jsx","components/Filter.jsx","components/Header.jsx","assets/car1.png","assets/car2.png","assets/car3.png","components/Gallery.jsx","components/HomeIcon.jsx","components/HotelItem.jsx","components/Loader.jsx","components/Main.jsx","components/PagCom.jsx","containers/HomePage.jsx","containers/LoginPage.jsx","routes/PrivateRoute.jsx","redux/reducers/homepage.js","redux/reducers/index.js","api/index.js","redux/sagas/index.js","redux/index.js","index.js"],"names":["Heart","size","isFav","onClick","color","Provider","value","className","Star","emailPattern","passwordPattern","options","year","month","day","RATE","PRICE","pageDomain","checkDays","days","SET_HOTELS","START_LOADING","END_LOADING","SET_REQUEST","SET_MODE_RATE","SET_MODE_PRICE","SET_FAV_APP","SET_FAV","CHANGE_PAGE","SET_PAGE","FavItem","hotel","dispatch","useDispatch","useSelector","store","homepage","request","date","hotelName","stars","priceAvg","s","i","push","dif","length","style","borderBottom","paddingBottom","Date","toLocaleDateString","map","index","toLocaleString","type","payload","parseInt","Fav","filtered","favs","favMode","page","sort","a","b","reverse","out","console","log","indexLast","indexFirst","slice","fav","hotelId","ErrorHelper","id","message","Filter","useForm","mode","register","handleSubmit","errors","formState","location","onSubmit","data","htmlFor","required","minLength","defaultValue","maxLength","min","toISOString","split","max","Header","history","useHistory","Cookies","remove","handleDragStart","e","preventDefault","items2","car1","car2","car3","src","width","onDragStart","alt","Gallery","autoWidth","mouseTracking","items","controlsStrategy","disableButtonsControls","disableDotsControls","infinite","HomeIcon","HotelItem","forEach","padding","fontSize","Loader","Main","loading","hotels","fontWeight","PagCom","quantity","Pagination","count","Math","ceil","onChange","_","num","showFirstButton","showLastButton","sx","marginY","marginX","HomePage","LoginPage","useEffect","get","set","random","toString","substr","expires","pattern","login","password","PrivateRoute","children","to","pathname","initialState","state","createBrowserHistory","reducer","combineReducers","router","connectRouter","getHotels","stringCurrDate","stringCheckOut","fetch","res","json","pageFN","setFav","fetchHotels","fetchHots","watchNewsSaga","rootSaga","put","select","hotelIndex","findIndex","newItem","alert","filteredFavs","filter","neededDate","checkOut","setDate","getDate","call","bind","results","takeLatest","LOCATION_CHANGE","takeEvery","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","run","ReactDOM","render","path","exact","document","getElementById"],"mappings":"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","file":"static/js/main.b2227977.chunk.js","sourcesContent":["import React from 'react'\r\nimport { IconContext } from 'react-icons'\r\nimport { AiTwotoneHeart } from 'react-icons/ai';\r\n\r\nexport const Heart = ({ size = '16px', isFav, onClick }) => {\r\n  const color = isFav === true ? 'red' : 'grey'\r\n  return (\r\n    <IconContext.Provider\r\n      value={{ color, size }}\r\n    >\r\n      <span\r\n        onClick={onClick}\r\n      >\r\n        <AiTwotoneHeart className={'pointer'} />\r\n      </span>\r\n    </IconContext.Provider>\r\n  )\r\n}","import React from 'react'\r\nimport { IconContext } from 'react-icons'\r\nimport { AiFillStar } from 'react-icons/ai';\r\n\r\nexport const Star = ({ color = 'yellow', size = '16px' }) => {\r\n  return (\r\n    <IconContext.Provider\r\n      value={{ color, size }}\r\n    >\r\n      <span>\r\n        <AiFillStar />\r\n      </span>\r\n    </IconContext.Provider>\r\n  )\r\n}\r\n","/* eslint-disable no-useless-escape */\r\nexport const emailPattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\nexport const passwordPattern = /.{8,}/\r\nexport const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\nexport const RATE = \"RATE\"\r\nexport const PRICE = \"PRICE\"\r\nexport const FAV_ITEMS_LENGTH = 3\r\nexport const pageDomain = '/test-hotel-liis-v2/'\r\nexport const CARDS_PER_PAGE = 3\r\nexport const MAX_FAVS = 15","export function generateToken() {\r\n  return Math.random().toString(36).substr(2)\r\n};\r\nexport function checkDays(days) {\r\n  if (days >= 5) {\r\n    return 'дней'\r\n  }\r\n  if (days >= 2) {\r\n    return 'дня'\r\n  }\r\n  return 'день'\r\n}\r\n","export const SET_HOTELS = \"SET_HOTELS\";\r\n\r\nexport const START_LOADING = \"START_LOADING\";\r\nexport const END_LOADING = \"END_LOADING\";\r\n\r\nexport const SET_REQUEST = \"SET_REQUEST\";\r\n\r\nexport const SET_MODE_RATE = \"SET_MODE_RATE\";\r\nexport const SET_MODE_PRICE = \"SET_MODE_PRICE\";\r\n\r\nexport const SET_FAV_APP = \"SET_FAV_APP\";\r\nexport const SET_FAV = \"SET_FAV\";\r\n\r\nexport const CHANGE_PAGE = \"CHANGE_PAGE\";\r\nexport const SET_PAGE = \"SET_PAGE\";","import React from 'react'\r\nimport { Heart } from './Heart';\r\nimport { Star } from './Star';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { options } from '../config';\r\nimport { checkDays } from '../auxillary';\r\nimport { SET_FAV_APP } from './../redux/contants';\r\n\r\nexport const FavItem = ({ hotel }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { date, days } = useSelector(store => store.homepage.request)\r\n  const {\r\n    hotelName,\r\n    stars,\r\n    priceAvg,\r\n  } = hotel\r\n\r\n  const s = []\r\n  for (let i = 0; i < stars; i++) {\r\n    s.push('gold')\r\n  }\r\n  const dif = 5 - s.length\r\n  for (let i = 0; i < dif; i++) {\r\n    s.push('grey')\r\n  }\r\n\r\n  return (\r\n    <div className='d-flex justify-between align-center' style={{ borderBottom: '1px solid #ccc', paddingBottom: '10px ' }}>\r\n      <div className='d-flex align-center'>\r\n        <div>\r\n          <p className='HomePage__FavName'>{hotelName}</p>\r\n          <p>{new Date(date).toLocaleDateString('ru-RU', options)} -- {days} {checkDays(days)}</p>\r\n          {\r\n            s.map((color, index) => {\r\n              return <Star\r\n                key={color + index + new Date().toLocaleString()}\r\n                color={color}\r\n              >\r\n              </Star>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className='d-flex flex-column align-end align-center'>\r\n        <Heart\r\n          size='24px'\r\n          isFav={true}\r\n          onClick={() => dispatch({ type: SET_FAV_APP, payload: hotel })}>\r\n        </Heart>\r\n        <p className='text-muted'>price: <span className='HomePage__price ml-1'>{parseInt(priceAvg)}p</span></p>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { CgArrowsScrollV } from 'react-icons/cg';\r\nimport { FavItem } from './FavItem';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CARDS_PER_PAGE, FAV_ITEMS_LENGTH, RATE } from '../config';\r\nimport { PRICE } from './../config';\r\nimport { SET_MODE_RATE } from '../redux/contants';\r\nimport { SET_MODE_PRICE } from './../redux/contants';\r\n\r\nexport const Fav = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const favs = useSelector(store => store.homepage.favs)\r\n  const favMode = useSelector(store => store.homepage.favMode)\r\n  const page = useSelector(store => store.homepage.page)\r\n\r\n  let filtered\r\n\r\n  if (favMode === RATE) {\r\n    filtered = favs.sort(function (a, b) {\r\n      return a.stars - b.stars;\r\n    });\r\n  }\r\n\r\n  if (favMode === PRICE) {\r\n    filtered = favs.sort(function (a, b) {\r\n      return a.priceAvg - b.priceAvg;\r\n    });\r\n  }\r\n\r\n  filtered.reverse()\r\n\r\n  let out = filtered\r\n  // for (let i = 0; i < filtered.length; i++) {\r\n  //   const fav = favs[i];\r\n  //   if (i >= FAV_ITEMS_LENGTH) {\r\n  //     break\r\n  //   }\r\n  //   out.push({\r\n  //     ...fav\r\n  //   })\r\n  // }\r\n  console.log(out)\r\n  console.log(page)\r\n  const indexLast = page * CARDS_PER_PAGE\r\n  const indexFirst = indexLast - CARDS_PER_PAGE\r\n\r\n  out = out.slice(indexFirst, indexLast)\r\n  // setOutPosts(posts.slice(indexFirst, indexLast))\r\n\r\n  return (\r\n    <>\r\n      <h2>Избранное</h2>\r\n      <div className='d-flex align-center'>\r\n        <button\r\n          className={`btn d-flex align-center mr-1 btn-sm ${favMode === RATE && 'btn-active'}`}\r\n          onClick={() => dispatch({ type: SET_MODE_RATE })}\r\n        >\r\n          Рейтинг <CgArrowsScrollV></CgArrowsScrollV>\r\n        </button>\r\n        <button\r\n          className={`btn d-flex align-center btn-sm ${favMode === PRICE && 'btn-active'}`}\r\n          onClick={() => dispatch({ type: SET_MODE_PRICE })}\r\n        >\r\n          Цена <CgArrowsScrollV></CgArrowsScrollV>\r\n        </button>\r\n      </div>\r\n      <div className='HomePage__favs'>\r\n        {\r\n          out.map(fav => {\r\n            return (\r\n              <FavItem\r\n                key={fav.hotelId}\r\n                hotel={fav}\r\n              >\r\n              </FavItem>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const ErrorHelper = ({ type }) => {\r\n  return type\r\n    ? (\r\n      <small id=\"emailHelp\" className=\"form-text invalid\">\r\n        {type.message}\r\n      </small>\r\n    )\r\n    : (\r\n      <small id=\"emailHelp\" className=\"form-text system-text\">\r\n        [system_text]\r\n      </small>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { ErrorHelper } from './ErrorHelper';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SET_REQUEST } from '../redux/contants';\r\n\r\nexport const Filter = () => {\r\n  const dispatch = useDispatch()\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    mode: 'onBlur'\r\n  });\r\n  const onSubmit = (data) => {\r\n    dispatch({ type: SET_REQUEST, payload: data })\r\n  };\r\n  const { location, date, days } = useSelector(store => store.homepage.request)\r\n  return (\r\n    <form className='d-flex flex-column align-end justify-between text-center' onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"input-group\">\r\n        <label className='form-label' htmlFor=\"username\">Локация</label>\r\n        <input\r\n          {...register(\r\n            'location', {\r\n            required: 'Локация обязательна',\r\n            minLength: 'Длина локации больше трех символов'\r\n          })}\r\n          className='form-control'\r\n          type=\"text\"\r\n          defaultValue={location}\r\n          maxLength={19}\r\n        />\r\n        <ErrorHelper type={errors?.location}></ErrorHelper>\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label className='form-label' htmlFor=\"password\">Дата заселения</label>\r\n        <input\r\n          {...register('date', {\r\n            required: 'Дата обязательна',\r\n          })}\r\n          className='form-control'\r\n          type=\"date\"\r\n          id=\"date\"\r\n          defaultValue={date}\r\n          min={new Date().toISOString().split(\"T\")[0]}\r\n        />\r\n        <ErrorHelper type={errors?.date}></ErrorHelper>\r\n      </div>\r\n\r\n      <div className=\"input-group\">\r\n        <label className='form-label' htmlFor=\"username\">Количество дней</label>\r\n        <input\r\n          {...register(\r\n            'days', {\r\n            required: 'Дни заселения обязательны',\r\n          })}\r\n          className='form-control'\r\n          type=\"number\"\r\n          defaultValue={days}\r\n          min={1}\r\n          max={7}\r\n        />\r\n        <ErrorHelper type={errors?.days}></ErrorHelper>\r\n      </div>\r\n\r\n      <button\r\n        className='btn btn-hotel btn-w100'\r\n        type='submit'\r\n      >\r\n        Найти\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { MdOutlineExitToApp } from 'react-icons/md';\r\nimport { IconContext } from \"react-icons\";\r\nimport Cookies from 'js-cookie';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { pageDomain } from '../config';\r\n\r\nexport const Header = () => {\r\n  const history = useHistory()\r\n  const singOut = () => {\r\n    Cookies.remove('tokenUser')\r\n    history.push(`${pageDomain}login`)\r\n  }\r\n  return (\r\n    <div className='Header'>\r\n      <h2>Simple Hotel Check</h2>\r\n      <div className='d-flex align-center pointer' onClick={singOut} >\r\n        <button className='btn-outline'>Выйти</button>\r\n        <IconContext.Provider value={{ color: \"#41522E\", className: \"global-class-name\" }}>\r\n          <MdOutlineExitToApp size={32}></MdOutlineExitToApp>\r\n        </IconContext.Provider>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/car1.b9017736.png\";","export default __webpack_public_path__ + \"static/media/car2.d8412d00.png\";","export default __webpack_public_path__ + \"static/media/car3.6e508eab.png\";","\r\nimport React from 'react';\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport 'react-alice-carousel/lib/alice-carousel.css';\r\nimport car1 from '../assets/car1.png'\r\nimport car2 from '../assets/car2.png'\r\nimport car3 from '../assets/car3.png'\r\n\r\nconst imgs = [\r\n  car1,\r\n  car2,\r\n  car3,\r\n  car2,\r\n  car1,\r\n  car2,\r\n  car3,\r\n]\r\nconst handleDragStart = (e) => e.preventDefault();\r\n\r\nconst items2 = imgs.map((value, index) => {\r\n  const style = { width: '150px' };\r\n  return (<img src={value} style={style} onDragStart={handleDragStart} alt={index}></img>);\r\n});\r\n\r\nexport const Gallery = () => {\r\n  return (\r\n    <AliceCarousel\r\n      autoWidth={true}\r\n      mouseTracking\r\n      items={items2}\r\n      controlsStrategy=\"alternate\"\r\n      disableButtonsControls={true}\r\n      disableDotsControls={true}\r\n      infinite={true}\r\n    />\r\n  );\r\n}","import React from 'react'\r\nimport { FaHome } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons'\r\n\r\nexport const HomeIcon = ({ color = '#41522E', size = '32px' }) => {\r\n  return (\r\n    <IconContext.Provider\r\n      value={{ color, size }}\r\n    >\r\n      <span>\r\n        <FaHome />\r\n      </span>\r\n    </IconContext.Provider>\r\n  )\r\n}","import React from 'react'\r\nimport { Heart } from './Heart'\r\nimport { Star } from './Star'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { options } from './../config';\r\nimport { HomeIcon } from './HomeIcon';\r\nimport { checkDays } from '../auxillary';\r\nimport { SET_FAV_APP } from './../redux/contants';\r\n\r\nexport const HotelItem = ({ hotel }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { date, days } = useSelector(store => store.homepage.request)\r\n\r\n  const {\r\n    hotelName,\r\n    stars,\r\n    priceAvg,\r\n    hotelId\r\n  } = hotel\r\n\r\n  const s = []\r\n  for (let i = 0; i < stars; i++) {\r\n    s.push('gold')\r\n  }\r\n  const dif = 5 - s.length\r\n  for (let i = 0; i < dif; i++) {\r\n    s.push('grey')\r\n  }\r\n\r\n  let isFav = false\r\n  const favs = useSelector(store => store.homepage.favs)\r\n  favs.forEach(fav => {\r\n    if (fav.hotelId === hotelId) {\r\n      isFav = true\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className='d-flex justify-between align-center' style={{ borderBottom: '1px solid #ccc', paddingBottom: '10px ' }}>\r\n      <div className='d-flex align-center'>\r\n        <div style={{ padding: '24px' }}>\r\n          <HomeIcon></HomeIcon>\r\n        </div>\r\n        <div>\r\n          <p style={{ fontSize: '15px' }}>{hotelName}</p>\r\n          <p>{new Date(date).toLocaleDateString('ru-RU', options)} -- {days} {checkDays(days)}</p>\r\n          {\r\n            s.map((color, index) => {\r\n              return <Star\r\n                key={color + index + new Date().toLocaleString()}\r\n                color={color}\r\n              >\r\n              </Star>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className='d-flex flex-column align-end align-center'>\r\n        <Heart\r\n          size='24px'\r\n          isFav={isFav}\r\n          onClick={() => dispatch({ type: SET_FAV_APP, payload: hotel })}>\r\n        </Heart>\r\n        <p className='text-muted'>price: <span className='HomePage__price ml-2'>{parseInt(priceAvg)}p</span></p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className='Loader'>\r\n      <div className={'lds-default'}><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n    </div >\r\n  )\r\n}\r\nexport default Loader","import React from 'react'\r\nimport { IoIosArrowForward } from 'react-icons/io';\r\nimport { useSelector } from 'react-redux';\r\nimport { options } from '../config';\r\nimport { Gallery } from './Gallery';\r\nimport { HotelItem } from './HotelItem';\r\nimport Loader from './Loader';\r\n\r\nexport const Main = () => {\r\n  const loading = useSelector(store => store.homepage.loading)\r\n  const hotels = useSelector(store => store.homepage.hotels)\r\n  const favs = useSelector(store => store.homepage.favs)\r\n  const { date, location } = useSelector(store => store.homepage.request)\r\n\r\n  return (\r\n    <div>\r\n      <div className='d-flex justify-between'>\r\n        <div className='d-flex align-center'>\r\n          <h3 className='Main__header'>Отели</h3>\r\n          <IoIosArrowForward className='ml-1' size={32}></IoIosArrowForward>\r\n          <h3 className='Main__header ml-1'>{location}</h3>\r\n        </div>\r\n        <h3 style={{ fontSize: '24px', fontWeight: 400, color: '#41522E' }}>{new Date(date).toLocaleDateString('ru-RU', options)}</h3>\r\n      </div>\r\n      <Gallery></Gallery>\r\n      <h3>Добавлено в избранное: {favs.length} ед.</h3>\r\n      <div>\r\n        {\r\n          loading\r\n            ? <Loader></Loader>\r\n            :\r\n            hotels?.message\r\n              ? <h1>{hotels?.message}</h1>\r\n              : (\r\n                hotels.map(hotel => {\r\n                  return (\r\n                    <HotelItem\r\n                      key={hotel.hotelId}\r\n                      hotel={hotel}\r\n                    >\r\n                    </HotelItem>\r\n                  )\r\n                })\r\n              )\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Pagination, PaginationItem } from '@mui/material';\r\nimport { CARDS_PER_PAGE } from '../config'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport { useDispatch } from 'react-redux';\r\nimport { CHANGE_PAGE } from './../redux/contants';\r\n\r\nexport const PagCom = () => {\r\n  const favs = useSelector(store => store.homepage.favs)\r\n  const quantity = favs.length\r\n  const page = useSelector(store => store.homepage.page)\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <div className='row justify-center'>\r\n      <Pagination\r\n        count={Math.ceil(quantity / CARDS_PER_PAGE)}\r\n        page={page}\r\n        onChange={(_, num) => dispatch({ type: CHANGE_PAGE, payload: num })}\r\n        showFirstButton\r\n        showLastButton\r\n        sx={{ marginY: 3, marginX: \"auto\" }}\r\n      // renderItem={(item) => (\r\n      //   <PaginationItem\r\n      //     component={NavLink}\r\n      //      to={`/?page=${item.page}`}\r\n      //     {...item}\r\n      //   />\r\n      // )}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Fav } from '../components/Fav'\r\nimport { Filter } from '../components/Filter'\r\nimport { Header } from '../components/Header'\r\nimport { Main } from '../components/Main'\r\nimport { PagCom } from '../components/PagCom'\r\n\r\n\r\n\r\nexport const HomePage = () => {\r\n\r\n  return (\r\n    <div className='HomePage'>\r\n      <Header></Header>\r\n      <div className=\"HomePage__grid container\">\r\n        <div className=\"HomePage__filter HomePage__block\">\r\n          <Filter></Filter>\r\n        </div>\r\n        <div className=\"HomePage__main HomePage__block\">\r\n          <Main></Main>\r\n        </div>\r\n        <div className=\"HomePage__fav HomePage__block\">\r\n          <Fav></Fav>\r\n          <PagCom></PagCom>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { ErrorHelper } from '../components/ErrorHelper';\r\nimport { emailPattern, pageDomain, passwordPattern } from '../config';\r\nimport Cookies from 'js-cookie'\r\nimport { generateToken } from '../auxillary';\r\nimport { useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const LoginPage = () => {\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    if (!!Cookies.get('tokenUser')) {\r\n      history.push(pageDomain)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const onSubmit = () => {\r\n    Cookies.set('tokenUser', generateToken(), { expires: 1 })\r\n    history.push(pageDomain)\r\n  };\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    mode: 'onBlur'\r\n  });\r\n  return (\r\n    <div className='LoginPage'>\r\n      <form className='Hotel__form text-center' onSubmit={handleSubmit(onSubmit)}>\r\n        <h3>Simple Hotel Check</h3>\r\n        <div className=\"input-group\">\r\n          <label className='form-label' htmlFor=\"username\">Логин</label>\r\n          <input\r\n            {...register(\r\n              'login', {\r\n              required: 'Логин обязателен',\r\n              pattern: {\r\n                value: emailPattern,\r\n                message: 'Email pattern be like: example@test.com'\r\n              }\r\n            })}\r\n            defaultValue='example@test.com'\r\n            className='form-control'\r\n            type=\"email\"\r\n          />\r\n          <ErrorHelper type={errors?.login}></ErrorHelper>\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label className='form-label' htmlFor=\"password\">Пароль</label>\r\n          <input\r\n            {...register('password', {\r\n              required: 'Пароль обязателен',\r\n              pattern: {\r\n                value: passwordPattern,\r\n                message: 'Минимум 8 символов'\r\n              }\r\n            })}\r\n            defaultValue='12345678'\r\n            className='form-control'\r\n            type=\"password\"\r\n            id=\"password\"\r\n          />\r\n          <ErrorHelper type={errors?.password}></ErrorHelper>\r\n        </div>\r\n\r\n        <button\r\n          className='btn btn-hotel btn-w100'\r\n          type='submit'\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n      <div className=\"LoginPage__bg\"></div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { pageDomain } from './../config';\r\n\r\nexport const PrivateRoute = ({ children }) => {\r\n  const tokenUser = Cookies.get('tokenUser')\r\n  return (\r\n    !!tokenUser\r\n      ? children\r\n      : <Redirect\r\n        to={{\r\n          pathname: `${pageDomain}login`,\r\n        }}\r\n      ></Redirect>\r\n  )\r\n}\r\n","import { RATE } from \"../../config\";\r\nimport { END_LOADING, SET_FAV, SET_HOTELS, SET_MODE_RATE, SET_PAGE, SET_REQUEST, START_LOADING } from \"../contants\";\r\nimport { PRICE } from './../../config';\r\nimport { SET_MODE_PRICE } from './../contants';\r\n\r\nconst initialState = {\r\n  hotels: [],\r\n  loading: true,\r\n  favs: [],\r\n  request: {\r\n    location: 'Москва',\r\n    date: (new Date()).toISOString().split('T')[0],\r\n    days: 1,\r\n  },\r\n  favMode: PRICE,\r\n  page: 1\r\n};\r\n\r\nconst homepage = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_HOTELS:\r\n      return {\r\n        ...state,\r\n        hotels: payload,\r\n      };\r\n    case START_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case END_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case SET_REQUEST:\r\n      return {\r\n        ...state,\r\n        request: payload,\r\n      };\r\n    case SET_FAV:\r\n      return {\r\n        ...state,\r\n        favs: payload\r\n      }\r\n    case SET_MODE_RATE:\r\n      return {\r\n        ...state,\r\n        favMode: RATE\r\n      }\r\n    case SET_MODE_PRICE:\r\n      return {\r\n        ...state,\r\n        favMode: PRICE\r\n      }\r\n    case SET_PAGE:\r\n      return {\r\n        ...state,\r\n        page: payload\r\n      }\r\n    default: return state;\r\n  }\r\n};\r\n\r\nexport default homepage;","import { combineReducers } from 'redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport { connectRouter } from 'connected-react-router';\r\nimport homepage from './homepage';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nconst reducer = combineReducers({\r\n  homepage,\r\n  router: connectRouter(history),\r\n});\r\n\r\nexport default reducer;","export const getHotels = async (location, stringCurrDate, stringCheckOut) => {\r\n  const res = await fetch(`https://engine.hotellook.com/api/v2/cache.json?location=${location}&currency=rub&checkIn=${stringCurrDate}&checkOut=${stringCheckOut}&limit=5`);\r\n  return await res.json();\r\n};\r\n","import {\r\n  put,\r\n  call,\r\n  takeLatest,\r\n  select,\r\n  takeEvery\r\n} from 'redux-saga/effects';\r\nimport { LOCATION_CHANGE } from 'connected-react-router';\r\nimport { getHotels } from '../../api';\r\nimport {\r\n  CHANGE_PAGE,\r\n  END_LOADING,\r\n  SET_FAV,\r\n  SET_FAV_APP,\r\n  SET_HOTELS,\r\n  SET_PAGE,\r\n  SET_REQUEST\r\n} from '../contants';\r\nimport { START_LOADING } from './../contants';\r\nimport { pageDomain, MAX_FAVS } from './../../config';\r\n\r\nexport function* pageFN({ payload }) {\r\n  yield put({ type: SET_PAGE, payload })\r\n}\r\n\r\nexport function* setFav({ payload }) {\r\n  const favs = yield select(({ homepage }) => homepage?.favs);\r\n  const hotel = payload\r\n  const hotelIndex = favs.findIndex(hotel => hotel.hotelId === payload.hotelId)\r\n  if (hotelIndex < 0) {\r\n    const newItem = {\r\n      ...hotel,\r\n    }\r\n    if (favs.length < MAX_FAVS) {\r\n      yield put({ type: SET_FAV, payload: [...favs, newItem] })\r\n    } else {\r\n      alert('Достигнут лимит избранных отелей')\r\n    }\r\n  }\r\n  else {\r\n    const filteredFavs = favs.filter(hotel => hotel.hotelId !== payload.hotelId)\r\n    yield put({ type: SET_FAV, payload: filteredFavs })\r\n  }\r\n}\r\n\r\nexport function* fetchHotels() {\r\n  const homepage = yield select(({ homepage }) => homepage);\r\n  const { request } = homepage\r\n  const { location, date, days } = request\r\n\r\n  const neededDate = new Date(date)\r\n  const checkOut = new Date()\r\n  checkOut.setDate(neededDate.getDate() + parseInt(days));\r\n\r\n  const stringCurrDate = neededDate.toISOString().split('T')[0]\r\n  const stringCheckOut = checkOut.toISOString().split('T')[0]\r\n\r\n  const results = yield call(getHotels.bind(null, location, stringCurrDate, stringCheckOut))\r\n\r\n  yield put({ type: SET_HOTELS, payload: results })\r\n  yield put({ type: END_LOADING })\r\n}\r\n\r\nexport function* fetchHots() {\r\n  yield put({ type: START_LOADING })\r\n  const homepage = yield select(({ homepage }) => homepage);\r\n  const { request } = homepage\r\n  const { location, date, days } = request\r\n\r\n  const neededDate = new Date(date)\r\n  const checkOut = new Date()\r\n  checkOut.setDate(neededDate.getDate() + parseInt(days));\r\n\r\n  const stringCurrDate = neededDate.toISOString().split('T')[0]\r\n  const stringCheckOut = checkOut.toISOString().split('T')[0]\r\n\r\n  const results = yield call(getHotels.bind(null, location, stringCurrDate, stringCheckOut))\r\n  yield put({ type: SET_HOTELS, payload: results })\r\n  yield put({ type: END_LOADING })\r\n}\r\n\r\nexport function* watchNewsSaga() {\r\n  const path = yield select(({ router }) => router.location.pathname);\r\n  if (path === pageDomain) {\r\n    yield call(fetchHotels);\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function* rootSaga() {\r\n  yield takeLatest(LOCATION_CHANGE, watchNewsSaga);\r\n  yield takeLatest(SET_REQUEST, fetchHots);\r\n  yield takeEvery(SET_FAV_APP, setFav)\r\n  yield takeEvery(CHANGE_PAGE, pageFN)\r\n}","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport reducer from './reducers';\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst composeEnhancers =\r\n  typeof window === 'object' &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\n\r\nconst configureStore = preloadedState => createStore(\r\n  reducer,\r\n  // preloadedState,\r\n  composeEnhancers(applyMiddleware(sagaMiddleware)),\r\n);\r\n\r\nconst store = configureStore({});\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;","import { HomePage } from \"./containers/HomePage\";\r\nimport { LoginPage } from \"./containers/LoginPage\";\r\nimport './index.css'\r\nimport './css/grid.css'\r\nimport './css/style.loader.css'\r\nimport { PrivateRoute } from \"./routes/PrivateRoute\";\r\nimport ReactDOM from 'react-dom';\r\nimport \"react-alice-carousel/lib/alice-carousel.css\";\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport store from \"./redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { history } from \"./redux/reducers\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <Switch>\r\n        <Route path='/test-hotel-liis-v2/login' exact>\r\n          <LoginPage />\r\n        </Route>\r\n        <Route path='/test-hotel-liis-v2/' exact>\r\n          <PrivateRoute >\r\n            <HomePage />\r\n          </PrivateRoute>\r\n        </Route>\r\n      </Switch>\r\n    </ConnectedRouter >\r\n  </Provider>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}